\newcommand{\vspacing}{0.8cm}

\usetikzlibrary{shapes.geometric, arrows, positioning, shadows}

\pgfdeclarelayer{background}
\pgfsetlayers{background,main}

\tikzstyle{texte} = [above]

\newcommand{\background}[7]{%
  \begin{pgfonlayer}{background}
    % Left-top corner of the background rectangle
    \path (#1.west |- #2.north)+(-0.5,0.5) node (a1) {};
    % Right-bottom corner of the background rectangle
    \path (#3.east |- #4.south)+(+0.5,-0.25) node (a2) {};
    % Draw the background
    \path[fill=#7,rounded corners, draw=black!50, dashed]
      (a1) rectangle (a2);
    \path (a1.east |- a1.south)+(1.2,-0.3) node (u1)[texte]
      {\scriptsize\textit{#6}};
  \end{pgfonlayer}}

\tikzstyle{stop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=violet!30, drop shadow]
\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, text centered, text width=5cm, draw=black, fill=blue!30, drop shadow]
\tikzstyle{processcpu} = [rectangle, text centered, text width=5cm, draw=black, fill=orange!30, drop shadow]
\tikzstyle{processdpu} = [rectangle, text centered, text width=5cm, draw=black, fill=red!30, drop shadow]
\tikzstyle{decision} = [diamond, aspect=2, text centered, draw=black, fill=green!30, drop shadow]
\tikzstyle{arrow} = [thick,->,>=stealth]